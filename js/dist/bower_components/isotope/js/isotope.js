(function(e){"use strict";function n(e,t){for(var n in t)e[n]=t[n];return e}function u(e){return o.call(e)==="[object Array]"}function f(e){var t=[];if(u(e))t=e;else if(e&&typeof e.length=="number")for(var n=0,r=e.length;n<r;n++)t.push(e[n]);else t.push(e);return t}function l(e,t){var n=a(t,e);n!==-1&&t.splice(n,1)}function c(e,i,o,u,a){function p(e,t){return function(r,i){for(var s=0,o=e.length;s<o;s++){var u=e[s],a=r.sortData[u],f=i.sortData[u];if(a>f||a<f){var l=t[u]!==undefined?t[u]:t,c=l?1:-1;return(a>f?1:-1)*c}}return 0}}var c=e.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});c.Item=u,c.LayoutMode=a,c.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var t in a.modes)this._initLayoutMode(t)},c.prototype.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},c.prototype._itemize=function(){var t=e.prototype._itemize.apply(this,arguments);for(var n=0,r=t.length;n<r;n++){var i=t[n];i.id=this.itemGUID++}return this._updateItemsSortData(t),t},c.prototype._initLayoutMode=function(e){var t=a.modes[e],r=this.options[e]||{};this.options[e]=t.options?n(t.options,r):r,this.modes[e]=new t(this)},c.prototype.layout=function(){if(!this._isLayoutInited&&this.options.isInitLayout){this.arrange();return}this._layout()},c.prototype._layout=function(){var e=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,e),this._isLayoutInited=!0},c.prototype.arrange=function(e){this.option(e),this._getIsInstant(),this.filteredItems=this._filter(this.items),this._sort(),this._layout()},c.prototype._init=c.prototype.arrange,c.prototype._getIsInstant=function(){var e=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=e,e},c.prototype._filter=function(e){function c(){l.reveal(r),l.hide(i)}var t=this.options.filter;t=t||"*";var n=[],r=[],i=[],s=this._getFilterTest(t);for(var o=0,u=e.length;o<u;o++){var a=e[o];if(a.isIgnored)continue;var f=s(a);f&&n.push(a),f&&a.isHidden?r.push(a):!f&&!a.isHidden&&i.push(a)}var l=this;return this._isInstant?this._noTransition(c):c(),n},c.prototype._getFilterTest=function(e){return t&&this.options.isJQueryFiltering?function(n){return t(n.element).is(e)}:typeof e=="function"?function(t){return e(t.element)}:function(t){return o(t.element,e)}},c.prototype.updateSortData=function(e){var t;e?(e=f(e),t=this.getItems(e)):t=this.items,this._getSorters(),this._updateItemsSortData(t)},c.prototype._getSorters=function(){var e=this.options.getSortData;for(var t in e){var n=e[t];this._sorters[t]=h(n)}},c.prototype._updateItemsSortData=function(e){var t=e&&e.length;for(var n=0;t&&n<t;n++){var r=e[n];r.updateSortData()}};var h=function(){function e(e){if(typeof e!="string")return e;var n=r(e).split(" "),i=n[0],s=i.match(/^\[(.+)\]$/),o=s&&s[1],u=t(o,i),a=c.sortDataParsers[n[1]];return e=a?function(e){return e&&a(u(e))}:function(e){return e&&u(e)},e}function t(e,t){var n;return e?n=function(t){return t.getAttribute(e)}:n=function(e){var n=e.querySelector(t);return n&&s(n)},n}return e}();c.sortDataParsers={parseInt:function(e){return parseInt(e,10)},parseFloat:function(e){return parseFloat(e)}},c.prototype._sort=function(){var e=this.options.sortBy;if(!e)return;var t=[].concat.apply(e,this.sortHistory),n=p(t,this.options.sortAscending);this.filteredItems.sort(n),e!==this.sortHistory[0]&&this.sortHistory.unshift(e)},c.prototype._mode=function(){var e=this.options.layoutMode,t=this.modes[e];if(!t)throw new Error("No layout mode: "+e);return t.options=this.options[e],t},c.prototype._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},c.prototype._getItemLayoutPosition=function(e){return this._mode()._getItemLayoutPosition(e)},c.prototype._manageStamp=function(e){this._mode()._manageStamp(e)},c.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},c.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},c.prototype.appended=function(e){var t=this.addItems(e);if(!t.length)return;var n=this._filterRevealAdded(t);this.filteredItems=this.filteredItems.concat(n)},c.prototype.prepended=function(e){var t=this._itemize(e);if(!t.length)return;var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps();var r=this._filterRevealAdded(t);this.layoutItems(n),this.filteredItems=r.concat(this.filteredItems)},c.prototype._filterRevealAdded=function(e){var t=this._noTransition(function(){return this._filter(e)});return this.layoutItems(t,!0),this.reveal(t),e},c.prototype.insert=function(e){var t=this.addItems(e);if(!t.length)return;var n,r,i=t.length;for(n=0;n<i;n++)r=t[n],this.element.appendChild(r.element);var s=this._filter(t);this._noTransition(function(){this.hide(s)});for(n=0;n<i;n++)t[n].isLayoutInstant=!0;this.arrange();for(n=0;n<i;n++)delete t[n].isLayoutInstant;this.reveal(s)};var d=c.prototype.remove;return c.prototype.remove=function(e){e=f(e);var t=this.getItems(e);d.call(this,e);if(!t||!t.length)return;for(var n=0,r=t.length;n<r;n++){var i=t[n];l(i,this.filteredItems)}},c.prototype.shuffle=function(){for(var e=0,t=this.items.length;e<t;e++){var n=this.items[e];n.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},c.prototype._noTransition=function(e){var t=this.options.transitionDuration;this.options.transitionDuration=0;var n=e.call(this);return this.options.transitionDuration=t,n},c.prototype.getFilteredItemElements=function(){var e=[];for(var t=0,n=this.filteredItems.length;t<n;t++)e.push(this.filteredItems[t].element);return e},c}var t=e.jQuery,r=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s+|\s+$/g,"")},i=document.documentElement,s=i.textContent?function(e){return e.textContent}:function(e){return e.innerText},o=Object.prototype.toString,a=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1};typeof define=="function"&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","./item","./layout-mode","./layout-modes/masonry","./layout-modes/fit-rows","./layout-modes/vertical"],c):typeof exports=="object"?module.exports=c(require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):e.Isotope=c(e.Outlayer,e.getSize,e.matchesSelector,e.Isotope.Item,e.Isotope.LayoutMode)})(window);